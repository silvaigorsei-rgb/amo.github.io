<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>I love you eclipse &lt;3</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: black;
    cursor: crosshair;
  }
  canvas {
    display: block;
  }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<!-- ðŸŽµ MÃºsica de fundo (pode trocar o link) -->
<audio id="bgMusic" loop>
  <source src="https://cdn.pixabay.com/audio/2022/10/30/audio_8c3b1d9b6c.mp3" type="audio/mpeg">
</audio>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
const music = document.getElementById("bgMusic");

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

// ðŸ”Š Autoplay com fallback
window.addEventListener("click", () => {
  music.play().catch(() => {});
}, { once: true });

// ðŸŒˆ VariÃ¡veis globais
let hue = 0;
let pulse = 0;
let mouse = { x: canvas.width / 2, y: canvas.height / 2 };

// ðŸ–± Mouse
window.addEventListener("mousemove", e => {
  mouse.x = e.clientX;
  mouse.y = e.clientY;
});

// â¤ï¸ Classe coraÃ§Ã£o da chuva
class Heart {
  constructor(x = Math.random() * canvas.width, y = Math.random() * -canvas.height) {
    this.x = x;
    this.y = y;
    this.size = Math.random() * 18 + 8;
    this.speed = Math.random() * 2 + 1;
    this.hue = Math.random() * 360;
    this.alpha = Math.random() * 0.6 + 0.4;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = this.alpha;
    ctx.fillStyle = `hsl(${this.hue},100%,60%)`;
    ctx.beginPath();
    ctx.moveTo(this.x, this.y);
    ctx.bezierCurveTo(
      this.x - this.size, this.y - this.size,
      this.x - this.size * 2, this.y + this.size / 2,
      this.x, this.y + this.size
    );
    ctx.bezierCurveTo(
      this.x + this.size * 2, this.y + this.size / 2,
      this.x + this.size, this.y - this.size,
      this.x, this.y
    );
    ctx.fill();
    ctx.restore();
  }

  update() {
    this.y += this.speed;
    this.hue += 0.6;
    if (this.y > canvas.height + 20) {
      this.y = -20;
      this.x = Math.random() * canvas.width;
    }
    this.draw();
  }
}

// ðŸŽ† PartÃ­culas neon
class Particle {
  constructor() {
    this.x = mouse.x;
    this.y = mouse.y;
    this.vx = (Math.random() - 0.5) * 4;
    this.vy = (Math.random() - 0.5) * 4;
    this.life = 60;
    this.hue = hue;
  }

  update() {
    this.x += this.vx;
    this.y += this.vy;
    this.life--;
    ctx.fillStyle = `hsl(${this.hue},100%,70%)`;
    ctx.fillRect(this.x, this.y, 2, 2);
  }
}

const hearts = [];
const particles = [];

for (let i = 0; i < 160; i++) hearts.push(new Heart());


